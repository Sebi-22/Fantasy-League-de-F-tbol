<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Equipo | Fantasy League</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body class="bg-dark text-light">

  <!-- üîù NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-black fixed-top shadow-sm">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center fw-bold text-success" href="/index.html">
        <img src="/assets/imagenes/Logo del juego de Fantasy League.png" alt="Fantasy League" class="logo-img me-2">
        Fantasy League
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="/index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="/paginas/seleccion.html">Seleccionar jugadores</a></li>
          <li class="nav-item"><a class="nav-link active" href="/paginas/equipo.html">Mi equipo</a></li>
          <li class="nav-item"><a class="nav-link" href="/paginas/ranking.html">Ranking</a></li>
          <li class="nav-item">
            <button id="logoutBtn" class="btn btn-danger btn-sm">Cerrar sesi√≥n</button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- üèüÔ∏è CONTENIDO PRINCIPAL -->
  <main class="container mt-5 pt-5">
    
    <!-- Encabezado del equipo -->
    <div class="text-center mb-5">
      <h1 class="text-success fw-bold">Mi Equipo ‚öΩ</h1>
      <p class="lead text-muted">Formaci√≥n 4-4-2</p>
    </div>

    <!-- Alerta si no hay equipo -->
    <div id="alertaNoEquipo" class="alert alert-warning text-center d-none" role="alert">
      <h5>‚ö†Ô∏è A√∫n no ten√©s un equipo armado</h5>
      <p>And√° a la secci√≥n <a href="/paginas/seleccion.html" class="alert-link">Seleccionar jugadores</a> para armar tu equipo.</p>
    </div>

    <!-- Estad√≠sticas del equipo -->
    <div id="estadisticasEquipo" class="row mb-4 d-none">
      <div class="col-md-3 mb-3">
        <div class="card bg-dark border-success text-center">
          <div class="card-body">
            <h6 class="text-success">Jugadores</h6>
            <h3 id="totalJugadores">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="card bg-dark border-warning text-center">
          <div class="card-body">
            <h6 class="text-warning">Presupuesto usado</h6>
            <h3 id="presupuestoUsado">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="card bg-dark border-info text-center">
          <div class="card-body">
            <h6 class="text-info">Puntos totales</h6>
            <h3 id="puntosEquipo">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="card bg-dark border-danger text-center">
          <div class="card-body">
            <h6 class="text-danger">Valor promedio</h6>
            <h3 id="valorPromedio">0</h3>
          </div>
        </div>
      </div>
    </div>

    <!-- Campo de f√∫tbol con formaci√≥n -->
    <div id="cancha" class="card bg-dark border-success mb-4 d-none">
      <div class="card-body p-4" style="background: linear-gradient(180deg, #0a5f0a 0%, #0d8f0d 100%); min-height: 600px; position: relative;">
        
        <!-- Delanteros -->
        <div class="row justify-content-center mb-5" style="padding-top: 30px;">
          <div class="col-12 text-center mb-3">
            <small class="badge bg-dark">DELANTEROS</small>
          </div>
          <div id="delanteros" class="d-flex justify-content-center gap-4 flex-wrap">
            <!-- Se llena con JS -->
          </div>
        </div>

        <!-- Mediocampistas -->
        <div class="row justify-content-center mb-5">
          <div class="col-12 text-center mb-3">
            <small class="badge bg-dark">MEDIOCAMPISTAS</small>
          </div>
          <div id="mediocampistas" class="d-flex justify-content-center gap-3 flex-wrap">
            <!-- Se llena con JS -->
          </div>
        </div>

        <!-- Defensas -->
        <div class="row justify-content-center mb-5">
          <div class="col-12 text-center mb-3">
            <small class="badge bg-dark">DEFENSAS</small>
          </div>
          <div id="defensas" class="d-flex justify-content-center gap-3 flex-wrap">
            <!-- Se llena con JS -->
          </div>
        </div>

        <!-- Arquero -->
        <div class="row justify-content-center">
          <div class="col-12 text-center mb-3">
            <small class="badge bg-dark">ARQUERO</small>
          </div>
          <div id="arquero" class="d-flex justify-content-center">
            <!-- Se llena con JS -->
          </div>
        </div>

      </div>
    </div>

    <!-- Lista detallada de jugadores -->
    <div id="listaDetallada" class="card bg-dark border-success d-none">
      <div class="card-header bg-success text-dark fw-bold">
        Detalle de jugadores
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-dark table-hover">
            <thead class="table-success">
              <tr>
                <th>Nombre</th>
                <th>Posici√≥n</th>
                <th>Equipo</th>
                <th>Precio</th>
                <th>Puntos</th>
              </tr>
            </thead>
            <tbody id="tablaJugadores">
              <!-- Se llena con JS -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Botones de acci√≥n -->
    <div id="botonesAccion" class="text-center mt-4 d-none">
      <button id="btnSimularPartido" class="btn btn-success btn-lg me-2">
        üé≤ Simular partido
      </button>
      <button id="btnEditarEquipo" class="btn btn-outline-warning btn-lg me-2">
        ‚úèÔ∏è Editar equipo
      </button>
      <button id="btnEliminarEquipo" class="btn btn-outline-danger btn-lg">
        üóëÔ∏è Eliminar equipo
      </button>
    </div>

  </main>

  <!-- üë£ FOOTER -->
  <footer class="text-center py-4 bg-black mt-5">
    <p class="text-muted mb-0">¬© 2025 Fantasy League | Todos los derechos reservados.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/js/sistema-puntos.js"></script>
  <script src="/assets/js/equipo.js"></script>
</body>
</html>